angular.module("app").factory("accountservice",["$rootScope","$http","$q","staticdata","requestservice","$cookies",function(n,t,i,r,u,f){function e(){var n=f.get("user");return n?JSON.parse(n):{}}function c(t){f.putObject("user",t);n.$broadcast("userData.changed")}function l(){var n=e();return!_.isEmpty(n)}function a(n){var i=t.post(o,n);return i.then(u.HandleSuccess,u.HandleError)}function v(n){var i=t.post(s,n);return i.then(u.HandleSuccess,u.HandleError)}function y(n){var i=t.post(h,n);return i.then(u.HandleSuccess,u.HandleError)}var o=r.ApiUrl+"Contact/Login",s=r.ApiUrl+"Contact/UpdateContact",h=r.ApiUrl+"Contact/RecoverPassword";return{Login:a,CreateAccount:v,GetUserData:e,UserLoggedIn:l,SetUserData:c,RecoverPassword:y}}]);angular.module("app").factory("alertservice",["$http","$q","staticdata","requestservice","_",function(n,t,i,r,u){function c(n){var t=[],i=u.filter(n,function(n){return n.IsParent}),r=u.filter(n,function(n){return!n.IsParent});return i.forEach(function(n){var i=angular.copy(n);i.children=u.filter(r,function(t){return t.ParentId==n.Id});t.push(i)}),t}function l(){var t=n({method:"get",url:f,headers:{"Content-Type":"application/json"}});return t.then(function(n){return r.HandleSuccess(n,c)},r.HandleError)}function a(){var t=n({method:"get",url:e,headers:{"Content-Type":"application/json; charset=utf-8"}});return t.then(r.HandleSuccess,r.HandleError)}function v(t){var i=n({method:"get",url:o+"/"+t,headers:{"Content-Type":"application/json; charset=utf-8"}});return i.then(r.HandleSuccess,r.HandleError)}function y(t){var i=n.post(h,t);return i.then(r.HandleSuccess,r.HandleError)}var f=i.ApiUrl+"category",e=i.ApiUrl+"Case",o=i.ApiUrl+"Case/GetByUser",s=i.ApiUrl+"Case/AddAlert",h=i.ApiUrl+"Case/AddAlertNoPhoto";return{AddAlertUrl:s,GetCategories:l,GetRecentAlerts:a,GetMyAlerts:v,AddAlertNoPhoto:y}}]);angular.module("app").factory("layoutservice",["$http","$rootScope",function(n,t){function r(n){i=n;t.$broadcast("selectedPage.changed")}function u(){return i}var i="home";return{SetSelectedPage:r,GetSelectedPage:u}}]);angular.module("app").factory("requestservice",["$q",function(n){function t(t){return!angular.isObject(t.data)||!t.data.message?n.reject("O eroare necunoscuta a aparut"):n.reject(t.data.message)}function i(t,i){return t.data&&t.data.Error&&t.data.Error!=""?n.reject(t.data.Error):i?i(t.data):t.data}return{HandleError:t,HandleSuccess:i}}]);angular.module("app").factory("staticdata",["$http","$q",function(){var n=Object.freeze({Sent:1,Canceled:2,Received:3,InProgress:4,SentToAuth:5,NotSolved:6,WaitingConfirmation:7,Solved:8});return{StatusEnum:n,ApiUrl:"http://localhost/CityAlertWS/api/"}}]);angular.module("app").factory("util",["staticdata",function(n){function t(t){var i="";switch(t){case n.StatusEnum.Sent:i="Trimisa";break;case n.StatusEnum.Canceled:i="Anulata";break;case n.StatusEnum.Received:i="Receptionata";break;case n.StatusEnum.InProgress:i="In lucru";break;case n.StatusEnum.SentToAuth:i="Trimisa autoritatilor";break;case n.StatusEnum.NotSolved:i="Nerezolvata";break;case n.StatusEnum.WaitingConfirmation:i="In asteptare confirmare";break;case n.StatusEnum.Solved:i="Rezolvata"}return i}function i(n){return n==null||n.length==0?"img/no-image.jpg":n}function r(t){var i="gray";switch(t){case n.StatusEnum.Sent:i="#e2e2e2";break;case n.StatusEnum.Canceled:i="#662d8f";break;case n.StatusEnum.Received:i="#0071ba";break;case n.StatusEnum.InProgress:i="#df0613";break;case n.StatusEnum.SentToAuth:i="#f9bf00";break;case n.StatusEnum.NotSolved:i="#808080";break;case n.StatusEnum.WaitingConfirmation:i="#ef5a24";break;case n.StatusEnum.Solved:i="#39b34a"}return i}return{GetStatusName:t,GetImage:i,GetStatusBgColor:r}}]);
/*
//# sourceMappingURL=services.min.js.map
*/